<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ¦è¦ªæ„›çš„è–èª•å€’æ•¸æ—¥æ›† â¤ï¸</title>
    <style>
        /* --- 1. æ•´é«”é¢¨æ ¼è¨­å®š (è–èª•é¢¨) --- */
        body {
            background: linear-gradient(135deg, #165b33 0%, #0b381e 100%);
            color: white;
            font-family: 'Microsoft JhengHei', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1 {
            color: #f8b229;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            text-align: center;
        }

        p.subtitle {
            color: #e0e0e0;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        /* --- 2. æ—¥æ›†æ ¼å­ä½ˆå±€ --- */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 15px;
            max-width: 800px;
            width: 100%;
            padding-bottom: 50px;
        }

        .day-box {
            background-color: #bb2528; /* è–èª•ç´… */
            border-radius: 10px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.2s, background 0.3s;
            position: relative;
            border: 2px solid #f8b229;
        }

        .day-box:hover {
            transform: scale(1.05);
            background-color: #d42e32;
        }

        /*é–ä½çš„æ¨£å¼ (æœªä¾†æ—¥æœŸ)*/
        .day-box.locked {
            background-color: #2c3e50;
            border-color: #7f8c8d;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        /*å·²é–‹å•Ÿçš„æ¨£å¼*/
        .day-box.opened {
            background-color: #1a4d2e; /* æ·±ç¶  */
            opacity: 0.5;
        }

        /* --- 3. å½ˆå‡ºè¦–çª— (Modal) --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: #fff;
            color: #333;
            padding: 30px;
            border-radius: 15px;
            max-width: 90%;
            width: 400px;
            text-align: center;
            border: 5px solid #bb2528;
            position: relative;
            transform: scale(0.7);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-overlay.show .modal-content {
            transform: scale(1);
        }

        .modal-date {
            font-size: 1.2em;
            color: #bb2528;
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .modal-message {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
            white-space: pre-wrap; /* ä¿ç•™æ›è¡Œ */
        }

        .close-btn {
            background: #165b33;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* é›ªèŠ±èƒŒæ™¯ */
        .snowflake {
            position: fixed;
            top: -10px;
            color: #fff;
            user-select: none;
            z-index: 0;
            pointer-events: none;
            animation-name: fall;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        @keyframes fall {
            to { transform: translateY(105vh); }
        }
    </style>
</head>
<body>

    <h1>ğŸ„ Merry Christmas My Love ğŸ„</h1>
    <p class="subtitle">æ¯å¤©æ‰“é–‹ä¸€å‰‡å¿ƒæ„ï¼Œç›´åˆ°è–èª•ç¯€ä¾†è‡¨...</p>

    <div class="calendar-grid" id="calendar"></div>

    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <div class="modal-date" id="modalDate">12æœˆ1æ—¥</div>
            <div class="modal-message" id="modalMessage">è¨Šæ¯å…§å®¹...</div>
            <button class="close-btn" onclick="closeModal()">æ”¶åˆ°å¿ƒæ„ â¤ï¸</button>
        </div>
    </div>

    <script>
        // --- è¨­å®šå€ï¼šçµ¦å¦ä¸€åŠçš„ 25 å¥æƒ…è©± (ç´”èªéŒ„ç‰ˆ) ---
        const surprises = [
            "12/1ï¼šè¦ªæ„›çš„ï¼Œè–èª•æœˆå¿«æ¨‚ï¼ğŸ„\né€™æ˜¯å±¬æ–¼æˆ‘å€‘çš„å€’æ•¸é–‹å§‹ã€‚",
            "12/2ï¼šä»Šå¤©æƒ³å‘Šè¨´ä½ ï¼Œ\nä½ çš„ç¬‘å®¹æ˜¯æˆ‘æ¯å¤©å‹•åŠ›çš„ä¾†æºã€‚",
            "12/3ï¼šå¤©å†·äº†ï¼Œè¨˜å¾—å¤šç©¿ä¸€ä»¶å¤–å¥—ï¼Œ\nä¸ç„¶æˆ‘æœƒå¿ƒç–¼çš„ã€‚",
            "12/4ï¼šä»Šå¤©å·¥ä½œè¾›è‹¦äº†ï¼Œ\næ™šä¸Šæ—©é»ä¼‘æ¯å–”ã€‚ğŸŒ™",
            "12/5ï¼šå›æƒ³ä¸€ä¸‹æˆ‘å€‘ç¬¬ä¸€æ¬¡è¦‹é¢ï¼Œ\né‚£æ™‚å€™æˆ‘å°±è¦ºå¾—ä½ å¾ˆç‰¹åˆ¥ã€‚",
            "12/6ï¼šæƒ³åƒä»€éº¼å¥½åƒçš„å—ï¼Ÿ\né€±æœ«æˆ‘å€‘ä¸€èµ·å»åƒï¼ğŸ´",
            "12/7ï¼šé€™æ˜¯ä¸€æ¢èªéŸ³è¨Šæ¯(å‡è£çš„)ï¼š\nã€Œæˆ‘æ„›ä½ ï¼ã€ğŸ”Š",
            "12/8ï¼šä½ èªçœŸåšäº‹çš„æ¨£å­ï¼Œ\nçœŸçš„è¶…ç´šè¿·äººã€‚",
            "12/9ï¼šä»Šå¤©æ²’ä»€éº¼ç‰¹åˆ¥çš„äº‹ï¼Œ\nå°±æ˜¯ç‰¹åˆ¥æƒ³ä½ ã€‚",
            "12/10ï¼šé€™å¼µå¡ç‰‡èƒŒå¾Œè—è‘—ä¸€å€‹æ“æŠ±ï¼Œ\nè¦‹é¢æ™‚è¨˜å¾—é ˜å–ï¼ğŸ¤—",
            "12/11ï¼šä¸ç®¡å¤–é¢ä¸–ç•Œå¤šåµé›œï¼Œ\nä½ èº«é‚Šæ°¸é æœ‰æˆ‘ã€‚",
            "12/12ï¼šä»Šå¤©æƒ³å¤šè½è½ä½ çš„è²éŸ³ï¼Œ\næœ‰ç©ºèŠèŠå¤©å—ï¼Ÿ",
            "12/13ï¼šæº–å‚™å¥½è¿æ¥è–èª•ç¯€äº†å—ï¼Ÿ\næˆ‘æº–å‚™å¥½è¿æ¥ä½ äº†ã€‚",
            "12/14ï¼šä»Šå¤©æ˜¯æ“æŠ±æƒ…äººç¯€ï¼Œ\nè®“æˆ‘æŠ±ä¹…ä¸€é»å¥½å—ï¼Ÿ",
            "12/15ï¼šè·é›¢è–èª•ç¯€é‚„æœ‰10å¤©ï¼Œ\nä½†æ„›ä½ æ²’æœ‰æœŸé™ã€‚",
            "12/16ï¼šèƒ½é‡è¦‹ä½ ï¼Œ\nå°±æ˜¯æœ€ç¾å¥½çš„äº‹ã€‚",
            "12/17ï¼šæƒ³å’Œä½ ä¸€èµ·å»çœ‹è–èª•æ¨¹ï¼Œ\né›–ç„¶ä½ æ¯”è–èª•æ¨¹å¥½çœ‹ã€‚ğŸ„",
            "12/18ï¼šä¸è¦å¤ªç´¯äº†ï¼Œ\næˆ‘ä¸å‡†ä½ ç´¯å£æˆ‘çš„å¯¶è²ã€‚",
            "12/19ï¼šä»Šå¤©ç‚ºä½ é»æ’­ä¸€é¦–è–èª•æ­Œï¼Œ\nå“¼çµ¦ä½ è½ï½ğŸµ",
            "12/20ï¼šå€’æ•¸5å¤©ï¼\næœŸå¾…å’Œä½ ä¸€èµ·éç¯€ã€‚",
            "12/21ï¼šè–èª•ç¯€çš„æ°£æ°›è¶Šä¾†è¶Šæ¿ƒï¼Œ\næœ‰ä½ åœ¨èº«é‚ŠçœŸå¥½ã€‚",
            "12/22ï¼šå¤©æ°£è¶Šå†·ï¼Œ\næˆ‘å€‘å°±è¦é»å¾—è¶Šç·Šã€‚",
            "12/23ï¼šå¹³å®‰å¤œçš„å‰å¤•ï¼Œ\né¡˜ä½ ä»Šæ™šåšå€‹å¥½å¤¢ã€‚",
            "12/24ï¼šå¹³å®‰å¤œå¿«æ¨‚ï¼ğŸ\nä»Šæ™šè¦ä¸€ç›´ç‰½è‘—æ‰‹å–”ã€‚",
            "12/25ï¼šè–èª•å¿«æ¨‚ï¼ğŸ…\nè¬è¬ä½ åœ¨æˆ‘èº«é‚Šï¼Œæˆ‘æ„›ä½ ï¼"
        ];

        // --- ç¨‹å¼é‚è¼¯å€ ---

        const calendar = document.getElementById('calendar');
        const modal = document.getElementById('modal');
        const modalDate = document.getElementById('modalDate');
        const modalMessage = document.getElementById('modalMessage');

        // å–å¾—ä»Šå¤©çš„æ—¥æœŸ
        const today = new Date();
        const currentMonth = today.getMonth() + 1; 
        const currentDay = today.getDate();

        // â˜…â˜…â˜… æ¸¬è©¦å€ â˜…â˜…â˜…
        // è‹¥è¦æ¸¬è©¦ç‰¹å®šæ—¥æœŸï¼Œè«‹æŠŠä¸‹é¢é€™è¡Œ // æ‹¿æ‰ä¸¦ä¿®æ”¹æ—¥æœŸ
        // const currentMonth = 12; const currentDay = 21; 

        // ç”¢ç”Ÿ 25 å€‹æ ¼å­
        for (let i = 1; i <= 25; i++) {
            const dayBox = document.createElement('div');
            dayBox.classList.add('day-box');
            dayBox.innerText = i; 

            // åˆ¤æ–·æ—¥æœŸç‹€æ…‹
            const isFuture = (currentMonth !== 12) || (i > currentDay);
            
            if (isFuture) {
                dayBox.classList.add('locked');
                dayBox.innerHTML = `ğŸ”’<br><span style='font-size:0.5em'>${i}</span>`;
                dayBox.onclick = () => alert(`é‚„æ²’åˆ° ${i} è™Ÿå–”ï¼Œé€™ä¸€å¤©æœ‰å°ˆå±¬çš„è©±è¦å°ä½ èªªï¼ğŸ™…â€â™‚ï¸`);
            } else {
                dayBox.onclick = () => openSurprise(i);
            }

            calendar.appendChild(dayBox);
        }

        function openSurprise(day) {
            modalDate.innerText = `ğŸ„ 12æœˆ${day}æ—¥`;
            modalMessage.innerText = surprises[day - 1];
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
            
            const boxes = document.querySelectorAll('.day-box');
            if(boxes[day-1]) boxes[day-1].classList.add('opened');
        }

        function closeModal() {
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // --- è‡ªå‹•å½ˆå‡ºä»Šæ—¥é©šå–œ ---
        window.onload = function() {
            if (currentMonth === 12 && currentDay >= 1 && currentDay <= 25) {
                setTimeout(() => {
                    openSurprise(currentDay);
                }, 800);
            }
        };

        // --- é›ªèŠ±ç‰¹æ•ˆ ---
        function createSnowflake() {
            const snow = document.createElement('div');
            snow.classList.add('snowflake');
            snow.innerText = 'â„';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDuration = Math.random() * 3 + 2 + 's';
            snow.style.opacity = Math.random();
            snow.style.fontSize = Math.random() * 10 + 10 + 'px';
            
            document.body.appendChild(snow);
            
            setTimeout(() => {
                snow.remove();
            }, 5000);
        }
        setInterval(createSnowflake, 200);

    </script>
</body>
</html>